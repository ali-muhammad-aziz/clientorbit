trigger:
  - main

pool:
  name: Default # self-hosted agent pool

variables:
  imageName: "alimuhammad9291/clientorbitapp"
  tag: "latest"

steps:
  - task: Docker@2
    displayName: "Login to Docker Hub"
    inputs:
      containerRegistry: "DockerHubConnection"
      command: login

  - task: Docker@2
    displayName: "Build and Push Docker Image"
    inputs:
      containerRegistry: "DockerHubConnection"
      repository: "alimuhammad9291/clientorbitapp"
      command: "buildAndPush"
      Dockerfile: "**/Dockerfile"
      tags: "latest"
